# PCB详细布局设计

## 1. 元器件具体位置（以圆心为原点）

### 1.1 顶层关键元器件位置
```
[顶层布局详图 - 尺寸单位：mm]

                    Φ30
    +----------------------------------------+
    |   Type-C(14×7×3.5)                     |
    |   位置(-10,12)                         |
    |                                        |
    |   TP4056(SOP-8)                        |
    |   位置(-8,5)                           |
    |                                        |
    |   DW01-P(SOT23-6)    PT4115(SOT23-6)  |
    |   位置(-6,-2)        位置(8,2)         |
    |                                        |
    |   FS8205A(SOT23-6)   L1(4×4×2)        |
    |   位置(-6,-6)        位置(8,-2)        |
    |                                        |
    |                      D1(SS34)          |
    |                      位置(8,-6)         |
    |                                        |
    |   BAT+/BAT-         LED+/LED-         |
    |   位置(-8,-12)      位置(8,-12)        |
    +----------------------------------------+

器件间距要求：
1. IC之间最小间距：2mm
2. IC到板边最小距离：1.5mm
3. 焊盘到板边最小距离：0.8mm
```

### 1.2 底层关键元器件位置
```
[底层布局详图 - 尺寸单位：mm]

                    Φ30
    +----------------------------------------+
    |   按键(3×4×2.5)                        |
    |   位置(0,12)                           |
    |                                        |
    |            STM32F030(TSSOP20)          |
    |            位置(0,0)                    |
    |                                        |
    |   晶振(5×3.2)      调试口(2.54×4P)     |
    |   位置(-6,0)       位置(10,8)          |
    |                                        |
    |            温度传感器(SOT23)            |
    |            位置(0,-8)                   |
    +----------------------------------------+

去耦电容位置：
1. C1(0.1μF): STM32 VDD引脚旁(-2,1)
2. C2(0.1μF): STM32 VDDA引脚旁(2,1)
3. C3,C4(20pF): 晶振两侧(-7,-1),(-5,-1)
```

## 2. 关键走线详细规划

### 2.1 电源走线（顶层）
```
[电源走线路径]

1. 主电源线（1.5mm宽）：
   Type-C VCC -> TP4056 VIN
   路径：(-10,12) -> (-8,5)

2. 电池连接线（1.2mm宽）：
   BAT+/BAT- -> DW01-P -> FS8205A
   路径：(-8,-12) -> (-6,-2) -> (-6,-6)

3. LED驱动电源线（1.2mm宽）：
   PT4115 -> L1 -> LED+
   路径：(8,2) -> (8,-2) -> (8,-12)
```

### 2.2 信号走线（底层）
```
[信号走线路径]

1. PWM信号（0.25mm宽）：
   STM32 PA0 -> PT4115 PWM
   路径：(2,0) -> (8,2)

2. ADC信号（0.25mm宽）：
   温度传感器 -> STM32 PA2
   路径：(0,-8) -> (0,0)

3. 调试信号（0.25mm宽）：
   STM32 -> 调试口
   路径：(0,0) -> (10,8)
```

## 3. 铺铜详细说明

### 3.1 顶层铺铜
```
[顶层铺铜区域]

1. LED驱动区域：
   - 中心点(8,0)
   - 铺铜面积：100mm²
   - 过孔矩阵：5×5@0.3mm
   - 过孔间距：1mm

2. 充电管理区域：
   - 中心点(-8,5)
   - 铺铜面积：80mm²
   - 过孔矩阵：4×4@0.3mm
   - 过孔间距：1mm
```

### 3.2 底层铺铜
```
[底层铺铜区域]

1. 数字地平面：
   - 覆盖整个底层
   - 避开信号走线
   - 关键信号包地处理

2. 模拟地区域：
   - ADC和温度传感器周围
   - 独立接地点设计
   - 星型接地连接点(0,-4)
```

## 4. 装配要求

### 4.1 元器件高度控制
```
顶层最大高度：
1. Type-C接口：3.5mm
2. 电感L1：2mm
3. 其他器件：1.5mm

底层最大高度：
1. 按键：2.5mm
2. 调试口：2.54mm
3. 其他器件：1.2mm
```

### 4.2 焊盘设计
```
1. Type-C接口：
   - 焊盘尺寸：1.5×0.6mm
   - 过孔：Φ0.3mm
   - 开窗：1.7×0.8mm

2. IC焊盘：
   - SOT23-6：0.6×1.2mm
   - TSSOP20：0.4×1.5mm
   - 开窗比焊盘大0.1mm
```